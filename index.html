<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1, user-scalable=no">
<title>OpenClaw Mobile</title>
<meta name="theme-color" content="#0f0f1a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="OpenClaw">
<link rel="manifest" href="/manifest.json">
<link rel="apple-touch-icon" href="/icons/icon-192.png">
<link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png">
<link rel="stylesheet" href="/assets/style.css">
<script>if('serviceWorker' in navigator) navigator.serviceWorker.register('/sw.js');</script>
</head>
<body>
<div id="app">
  <!-- Login Screen -->
  <div id="login-screen" class="screen active">
    <div class="login-container">
      <div class="login-logo">⚡</div>
      <h1>OpenClaw</h1>
      <p class="login-sub">Mobile Control</p>
      <form id="login-form">
        <input type="password" id="login-password" placeholder="Password" autocomplete="current-password" class="input">
        <button type="submit" class="btn btn-primary btn-full">Connect</button>
      </form>
      <p id="login-error" class="error-text"></p>
    </div>
  </div>

  <!-- Main App -->
  <div id="main-screen" class="screen">
    <!-- Top Bar -->
    <div class="topbar">
      <div class="topbar-left">
        <span class="topbar-status" id="conn-status">●</span>
        <span class="topbar-title" id="topbar-title">OpenClaw</span>
        <span class="conn-label" id="conn-label"></span>
      </div>
      <div class="topbar-right">
        <button class="icon-btn" id="btn-refresh" title="Refresh">↻</button>
      </div>
    </div>

    <!-- Content Area -->
    <div class="content" id="content">
      <!-- Chat View (default) -->
      <div id="view-chat" class="view active">
        <div class="agent-selector" id="agent-selector"></div>
        <div class="chat-thread" id="chat-thread">
          <div class="chat-empty">Select an agent and start chatting</div>
        </div>
        <div class="chat-input-area">
          <div class="chat-input-row">
            <textarea id="chat-input" placeholder="Message..." rows="1" class="chat-textarea"></textarea>
            <button id="btn-send" class="btn-send" disabled>
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M2 21L23 12L2 3V10L17 12L2 14V21Z" fill="currentColor"/></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Sessions View -->
      <div id="view-sessions" class="view">
        <div class="view-header"><h2>Sessions</h2></div>
        <div id="sessions-list" class="list-container">
          <div class="list-empty">Loading sessions...</div>
        </div>
      </div>

      <!-- Agents View -->
      <div id="view-agents" class="view">
        <div class="view-header"><h2>Agents</h2></div>
        <div id="agents-list" class="list-container">
          <div class="list-empty">Loading agents...</div>
        </div>
      </div>

      <!-- Status View -->
      <div id="view-status" class="view">
        <div class="view-header"><h2>System Status</h2></div>
        <div id="status-content" class="status-container">
          <div class="list-empty">Loading...</div>
        </div>
      </div>
    </div>

    <!-- Bottom Nav -->
    <nav class="bottom-nav">
      <button class="nav-item active" data-view="chat">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z" fill="currentColor"/></svg>
        <span>Chat</span>
      </button>
      <button class="nav-item" data-view="sessions">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M4 6H2V20C2 21.1 2.9 22 4 22H18V20H4V6ZM20 2H8C6.9 2 6 2.9 6 4V16C6 17.1 6.9 18 8 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H8V4H20V16Z" fill="currentColor"/></svg>
        <span>Sessions</span>
      </button>
      <button class="nav-item" data-view="agents">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 5C13.66 5 15 6.34 15 8C15 9.66 13.66 11 12 11C10.34 11 9 9.66 9 8C9 6.34 10.34 5 12 5ZM12 19.2C9.5 19.2 7.29 17.92 6 15.98C6.03 13.99 10 12.9 12 12.9C13.99 12.9 17.97 13.99 18 15.98C16.71 17.92 14.5 19.2 12 19.2Z" fill="currentColor"/></svg>
        <span>Agents</span>
      </button>
      <button class="nav-item" data-view="status">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M19.14 12.94C19.18 12.64 19.2 12.33 19.2 12C19.2 11.68 19.18 11.36 19.13 11.06L21.16 9.48C21.34 9.34 21.39 9.07 21.28 8.87L19.36 5.55C19.24 5.33 18.99 5.26 18.77 5.33L16.38 6.29C15.88 5.91 15.35 5.59 14.76 5.35L14.4 2.81C14.36 2.57 14.16 2.4 13.92 2.4H10.08C9.84 2.4 9.65 2.57 9.61 2.81L9.25 5.35C8.66 5.59 8.12 5.92 7.63 6.29L5.24 5.33C5.02 5.25 4.77 5.33 4.65 5.55L2.74 8.87C2.62 9.08 2.66 9.34 2.86 9.48L4.89 11.06C4.84 11.36 4.8 11.69 4.8 12C4.8 12.31 4.82 12.64 4.87 12.94L2.84 14.52C2.66 14.66 2.61 14.93 2.72 15.13L4.64 18.45C4.76 18.67 5.01 18.74 5.23 18.67L7.62 17.71C8.12 18.09 8.65 18.41 9.24 18.65L9.6 21.19C9.65 21.43 9.84 21.6 10.08 21.6H13.92C14.16 21.6 14.36 21.43 14.39 21.19L14.75 18.65C15.34 18.41 15.88 18.09 16.37 17.71L18.76 18.67C18.98 18.75 19.23 18.67 19.35 18.45L21.27 15.13C21.39 14.91 21.34 14.66 21.15 14.52L19.14 12.94ZM12 15.6C10.02 15.6 8.4 13.98 8.4 12C8.4 10.02 10.02 8.4 12 8.4C13.98 8.4 15.6 10.02 15.6 12C15.6 13.98 13.98 15.6 12 15.6Z" fill="currentColor"/></svg>
        <span>Status</span>
      </button>
    </nav>
  </div>
</div>
<script>
// Auto cache-bust: append build timestamp to script URL
(function(){var s=document.createElement('script');s.src='/assets/app.js?t='+Date.now();document.body.appendChild(s);})();
</script>
</body>
</html>
